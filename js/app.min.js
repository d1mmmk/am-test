(function(b){b.fn.placeholder=function(){b(this).each(function(){var a,c;a=[];c=b(this);if(!c.data("placeholder")&&(c.data("placeholder",!0),a.c=c.attr("placeholder"),a.c&&(c.attr("placeholder","").wrapAll(a.n=b("<span>").css({position:"relative"})).before(a.placeholder=b("<span>").css({position:"absolute",top:0,left:"9px"}).addClass("placeholder").text(a.c).on("click",function(){return c.trigger("focus")})).on("focus",function(){b(this).addClass("focused");return a.placeholder.addClass("focused")}).on("keydown keyup blur",
function(){b(this).val()?a.placeholder.hide():a.placeholder.show();return a.placeholder.removeClass("focused")}).on("blur",function(){return b(this).removeClass("focused")}),c.val())))return a.placeholder.hide()});return b(this)};return b.fn.subsearch=function(a){var c,l,n,p;a=b.extend({j:".search__category",b:".search__category_category",i:".search__category_category__title",g:".search__category_category__controls",a:".search__category_category__item",h:".search__category_category__name",f:".glyphicon-ok",
e:".glyphicon-remove",form:".search__form form",k:".search__form__input-hidden",m:".search__subclass",d:{l:"subclass",close:"subclass__close"}},a);p=function(d,f){g;var g,e;e=b("<span></span>",{"class":a.d.l}).text(d.text()).append(g=b("<span></span>",{"class":"glyphicon glyphicon-remove "+a.d.close}));g.on("click",function(){c(d);return f()});return e};l=function(d,c,g,e){var h;d.empty();h=[];c.each(function(){h.push(b(this).find(a.h).text());return d.append(p(b(this),e))});return g.val(h.join(","))};
n=function(a){a.each(function(){return b(this).addClass("active")})};c=function(a){a.each(function(){return b(this).removeClass("active")})};b(this).each(function(){var d,f,g,e,h;f=b(this).find(a.form).find(a.k);d=b(this).find(a.b);g=b(this).find(a.j);h=b(this).find(a.m);e=function(){d.removeClass("hasActive");return l(h,g.find(a.a).filter(function(){if(b(this).hasClass("active"))return b(this).closest(a.b).addClass("hasActive"),b(this)}),f,e)};return d.each(function(){var d,h,k,f,l,m;m=b(this);k=
m.find(a.g);h=k.find(a.f);d=k.find(a.e);l=m.find(a.i);f=m.find(a.a);g.find(a.a);l.on("click",function(a){a.preventDefault();if(!k.has(a.target).length)return m.toggleClass("open")});k.on("click",function(a){return a.preventDefault()});k.on("click",function(a){return a.preventDefault()});h.on("click",function(){n(f);return e()});d.on("click",function(){c(f);return e()});return f.each(function(){return b(this).on("click",function(){b(this).hasClass("active")?c(b(this)):n(b(this));return e()})})})});
return b(this)}})(jQuery);jQuery(document).ready(function(){$(".search").subsearch();return $("input").placeholder()});
